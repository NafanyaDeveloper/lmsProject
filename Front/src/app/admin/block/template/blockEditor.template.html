<div class="bg-primary p-2 text-white" [class.bg-warning]="editing"
     [class.text-dark]="editing">
    <h5>{{editing  ? "Изменить" : "Создать"}} Блок</h5>
</div>
<form novalidate #form="ngForm" (ngSubmit)="save(form)">
    <div class="form-group">
        <label>Название</label>
        <input class="form-control" name="name" [(ngModel)]="block.name" />
    </div>
    <div class="form-group">
        <label>Страница</label>
        <select class="form-control" name="pageId" [(ngModel)]="block.pageId" >
            <option *ngFor="let p of pages" [value]="p.id">{{p.name}}</option>
        </select>
    </div>
    <div class="form-group">
        <label>Тип</label>
        <select class="form-control" name="blockTypeId" [(ngModel)]="block.blockTypeId" 
        (change)="changeType($event)">
            <option *ngFor="let i of types" [value]="i.id">{{i.name}}</option>
        </select>
    </div>

    <div *ngIf='t=="Картинка"' class="form-group">
        <label>Изображение</label>
        <input class="form-control" type="file" (change)="imgLoaded($event)" />
    </div>
    <div *ngIf='t=="Сообщение"' class="form-group">
        <label>Текст сообщения</label>
        <textarea class="form-control" name="text" [(ngModel)]="block.text" >
        </textarea>
    </div>
    <div *ngIf='t=="Вебинар с click meeting"' class="form-group">
            <label>Ссылка на вебинар</label>
            <input class="form-control" name="text" [(ngModel)]="block.text" />
    </div>
    <div *ngIf='t=="Видео с Youtube"' class="form-group">
            <label>Ссылка на видео</label>
            <input class="form-control" name="text" [(ngModel)]="block.text" />
    </div>
    <button type="submit" class="btn btn-primary" [class.btn-warning]="editing">
        {{editing ? "Сохранить" : "Создать"}}
    </button>
    <button type="reset" class="btn btn-secondary" routerLink="/admin/main/blocks">
        Вернуться
    </button>
</form>